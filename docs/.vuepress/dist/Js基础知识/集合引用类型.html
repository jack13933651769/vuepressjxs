<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>集合引用类型 | 蒋鲜生の前端学习笔记</title>
    <meta name="generator" content="VuePress 1.5.1">
    
    <meta name="description" content="这是一个总结前端知识的网站鸭！">
    <link rel="preload" href="/iview/notes/assets/css/0.styles.0b4762c8.css" as="style"><link rel="preload" href="/iview/notes/assets/js/app.89b4b570.js" as="script"><link rel="preload" href="/iview/notes/assets/js/2.9411c5eb.js" as="script"><link rel="preload" href="/iview/notes/assets/js/5.8cc516eb.js" as="script"><link rel="prefetch" href="/iview/notes/assets/js/10.5f2c0e22.js"><link rel="prefetch" href="/iview/notes/assets/js/11.b413a12e.js"><link rel="prefetch" href="/iview/notes/assets/js/12.73f2d2fc.js"><link rel="prefetch" href="/iview/notes/assets/js/13.b8ce8655.js"><link rel="prefetch" href="/iview/notes/assets/js/14.fec842a6.js"><link rel="prefetch" href="/iview/notes/assets/js/15.246d9d61.js"><link rel="prefetch" href="/iview/notes/assets/js/16.b52015ed.js"><link rel="prefetch" href="/iview/notes/assets/js/17.da313f3f.js"><link rel="prefetch" href="/iview/notes/assets/js/18.13018aea.js"><link rel="prefetch" href="/iview/notes/assets/js/19.803445dc.js"><link rel="prefetch" href="/iview/notes/assets/js/20.a9fe4b1d.js"><link rel="prefetch" href="/iview/notes/assets/js/21.4fffc1de.js"><link rel="prefetch" href="/iview/notes/assets/js/22.ffaa676b.js"><link rel="prefetch" href="/iview/notes/assets/js/23.e62ca486.js"><link rel="prefetch" href="/iview/notes/assets/js/24.5f8895fc.js"><link rel="prefetch" href="/iview/notes/assets/js/25.b0bfa950.js"><link rel="prefetch" href="/iview/notes/assets/js/26.26a587c1.js"><link rel="prefetch" href="/iview/notes/assets/js/27.5c706c50.js"><link rel="prefetch" href="/iview/notes/assets/js/28.11d9952a.js"><link rel="prefetch" href="/iview/notes/assets/js/29.e3fe3098.js"><link rel="prefetch" href="/iview/notes/assets/js/3.b2387403.js"><link rel="prefetch" href="/iview/notes/assets/js/4.99a4fa62.js"><link rel="prefetch" href="/iview/notes/assets/js/6.81d550b1.js"><link rel="prefetch" href="/iview/notes/assets/js/7.e68cbb3b.js"><link rel="prefetch" href="/iview/notes/assets/js/8.587e6838.js"><link rel="prefetch" href="/iview/notes/assets/js/9.d3eefc68.js">
    <link rel="stylesheet" href="/iview/notes/assets/css/0.styles.0b4762c8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/iview/notes/" class="home-link router-link-active"><!----> <span class="site-name">蒋鲜生の前端学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/iview/notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/iview/notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/iview/notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/iview/notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/iview/notes/" aria-current="page" class="sidebar-link">关于我</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>css动效</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Js基础知识</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/iview/notes/Js基础知识/string对象.html" class="sidebar-link">string对象</a></li><li><a href="/iview/notes/Js基础知识/变量作用域与内存.html" class="sidebar-link">变量,作用域与内存</a></li><li><a href="/iview/notes/Js基础知识/变量声明.html" class="sidebar-link">代码规范及变量声明</a></li><li><a href="/iview/notes/Js基础知识/基本引用类型.html" class="sidebar-link">基本引用类型</a></li><li><a href="/iview/notes/Js基础知识/操作符及语句.html" class="sidebar-link">语句</a></li><li><a href="/iview/notes/Js基础知识/数据类型.html" class="sidebar-link">数据类型</a></li><li><a href="/iview/notes/Js基础知识/集合引用类型.html" class="active sidebar-link">集合引用类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/iview/notes/Js基础知识/集合引用类型.html#obejct" class="sidebar-link">Obejct</a></li><li class="sidebar-sub-header"><a href="/iview/notes/Js基础知识/集合引用类型.html#array" class="sidebar-link">Array</a></li><li class="sidebar-sub-header"><a href="/iview/notes/Js基础知识/集合引用类型.html#定型数组" class="sidebar-link">定型数组</a></li><li class="sidebar-sub-header"><a href="/iview/notes/Js基础知识/集合引用类型.html#map" class="sidebar-link">Map</a></li><li class="sidebar-sub-header"><a href="/iview/notes/Js基础知识/集合引用类型.html#weakmap（es6-新增-弱映射）" class="sidebar-link">WeakMap（es6 新增 弱映射）</a></li><li class="sidebar-sub-header"><a href="/iview/notes/Js基础知识/集合引用类型.html#set-（es6新增集合数据结构-类似-加强的map，大多数api和行为都是共用的）" class="sidebar-link">Set  （es6新增集合数据结构 类似  加强的Map，大多数api和行为都是共用的）</a></li></ul></li><li><a href="/iview/notes/Js基础知识/面向对象.html" class="sidebar-link">对象、类、与面向对象编程</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React基础知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>./docs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>sql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端常见面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工作笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常用软件及网站和前端插件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>每天一个英语题型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>每日一个面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>移动端配置</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="集合引用类型"><a href="#集合引用类型" class="header-anchor">#</a> 集合引用类型</h1> <h2 id="obejct"><a href="#obejct" class="header-anchor">#</a> Obejct</h2> <p>对象创建的实列有两种方式</p> <ol><li>使用new 操作符和Object构造函数</li> <li>对象自面量（使用此方法定义对象，并不会实际调用Object函数）</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Nicholas&quot;</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Nicholas&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">29</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//获取对象的属性2种方式</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Nicholas&quot;//首选使用点语法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// &quot;Nicholas&quot; //访问属性时候需要使用变量用这种方式</span>
</code></pre></div><h2 id="array"><a href="#array" class="header-anchor">#</a> Array</h2> <p>创建数组的方式
数组里面可以是数值，字符串，对象</p> <ol><li>使用new 操作符和Array构造函数</li> <li>数组自面量（使用此方法定义数组，并不会实际调用Array函数）</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//里面可以添加参数，如果只有一个数值类型的参数是定义数组的长度</span>
<span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//可以省略new</span>
<span class="token keyword">let</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>es6新增两个数组方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//from()和of()</span>
<span class="token comment">//from 用于将类数组转换为数组实例，</span>
<span class="token comment">//of 用于将一组参数转换为数组实例</span>

<span class="token comment">//new Map() 映射 以键值对的方式</span>
<span class="token comment">//new Set()去除重复数组</span>
<span class="token comment">// 可以使用from()将集合和映射转换为一个新数组</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
                   <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                   <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
                   <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
                   <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [[1, 2], [3, 4]]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>
<span class="token comment">//浅拷贝</span>
<span class="token comment">/*
1.只复制指向某个对象的指针，而不复制对象本身，新旧对象还是共享同一块内存。
2.像数组里面方法进行浅拷贝，数组里如果有引用类型，修改引用类型新值旧值才会一起改变，如果没修改引用类型是不变的
（换句话说就是数组里面的方法进行浅拷贝第一层，后面第二层开始如果修改是引用类型的话就会跟着变）
*/</span>

<span class="token comment">// Array.from()对现有数组执行浅拷贝</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// [1, 2, 3, 4]</span>

<span class="token comment">// arguments对象可以被轻松地转换为数组</span>
<span class="token keyword">function</span> <span class="token function">getArgsArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArgsArray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>

<span class="token comment">//还可以转自定义对象</span>
<span class="token comment">// from()也能转换带有必要属性的自定义对象</span>
<span class="token keyword">const</span> arrayLikeObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token number">3</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  length<span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLikeObject<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>

<span class="token comment">//from()的第二个参数可以对数组进行修改，第三个可以映射this，箭头函数不适应</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a3 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> x<span class="token operator">**</span><span class="token keyword">this</span><span class="token punctuation">.</span>exponent<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>exponent<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1, 4, 9, 16]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1, 4, 9, 16]</span>

<span class="token comment">//of()可以进行将参数转换成数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>
</code></pre></div><h3 id="如何检测是不是数组"><a href="#如何检测是不是数组" class="header-anchor">#</a> 如何检测是不是数组</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">//第一种  instanceof</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 操作数组</span>
<span class="token punctuation">}</span>

<span class="token comment">//第二种 es6 提供的  isArray函数</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 操作数组</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="数组的迭代器"><a href="#数组的迭代器" class="header-anchor">#</a> 数组的迭代器</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//三种方法  keys() 索引 values()值 entries()索引+值 </span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;baz&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;qux&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 因为这些方法都返回迭代器，所以可以将它们的内容</span>
<span class="token comment">// 通过Array.from()直接转换为数组实例</span>
<span class="token keyword">const</span> aKeys <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> aValues <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> aEntries <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aKeys<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// [0, 1, 2, 3]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aValues<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;, &quot;qux&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aEntries<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [[0, &quot;foo&quot;], [1, &quot;bar&quot;], [2, &quot;baz&quot;], [3, &quot;qux&quot;]]</span>



<span class="token comment">//es6 轻松的解构出键值对</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;baz&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;qux&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>idx<span class="token punctuation">,</span> element<span class="token punctuation">]</span> <span class="token keyword">of</span> a<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 0</span>
<span class="token comment">// foo</span>
<span class="token comment">// 1</span>
<span class="token comment">// bar</span>
<span class="token comment">// 2</span>
<span class="token comment">// baz</span>
<span class="token comment">// 3</span>
<span class="token comment">// qux</span>
</code></pre></div><h3 id="数组的复制和填充方法"><a href="#数组的复制和填充方法" class="header-anchor">#</a> 数组的复制和填充方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//es6新增方法  copyWithin() fill()  使用不会改变数组大小</span>

<span class="token comment">//fill()</span>
<span class="token comment">//第一个参数是往数组填充什么值，第二个参数是大于多少，第三个参数是在二参数和三参数之前的进行替换，填负数也会变成正数</span>
<span class="token comment">//fill()静默忽略超出数组边界、零长度及方向相反的索引范围,部分索引就填充部分</span>
<span class="token keyword">const</span> zeroes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 用5填充整个数组</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [5, 5, 5, 5, 5]</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 重置</span>

<span class="token comment">// 用6填充索引大于等于3的元素</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 0, 0, 6, 6]</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 重置</span>

<span class="token comment">// 用7填充索引大于等于1且小于3的元素</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 7, 7, 0, 0];</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 重置</span>

<span class="token comment">// 用8填充索引大于等于1且小于4的元素</span>
<span class="token comment">// (-4 + zeroes.length = 1)</span>
<span class="token comment">// (-1 + zeroes.length = 4)</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 8, 8, 8, 0];</span>

<span class="token comment">//copyWithin() 一个参数时候，从0到这个参数进行复制然后在这个参数后进行插入，直到插入到数组边界</span>
<span class="token comment">//两个参数的话就是  第一位插入的位置，第二位是从这个参数开始进行复制</span>
<span class="token comment">//三个参数的话，第一个插入位置第二个从第几个开始第三个是到那个位置结束</span>


</code></pre></div><h3 id="数组转换方法-对象都有这几个方法"><a href="#数组转换方法-对象都有这几个方法" class="header-anchor">#</a> 数组转换方法(对象都有这几个方法)</h3> <p>所有对象都有这些方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//由逗号分隔的字符串</span>
<span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//返回数组本身</span>
<span class="token comment">//toLocaleString()和toString() 有区别的，当转换数字时候toLocaleString会3个数字前会加逗号， 转换时间也是不同的</span>

<span class="token comment">//toLocaleString()  toString()转换成字符串 都是以逗号分隔 如果不想用逗号分隔 可以使用 join函数进行替换</span>
<span class="token comment">//join()是数组函数，</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//&quot;1|2|3|4&quot;</span>

</code></pre></div><h3 id="数组栈方法"><a href="#数组栈方法" class="header-anchor">#</a> 数组栈方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// push() pop()</span>
<span class="token comment">//像栈一样， 限制插入和删除的数据结构，只能有同一个出入口   后进先出 （Last-in-first-out）的结构 </span>
<span class="token comment">//数据插入 (称为push) 数据删除（称为pop） ，无论是删除还是插入都在同一个地方发生，即栈顶</span>
<span class="token comment">//类似乒乓球盒子 最下面的是1 最顶上的是5  每次都在顶部插入和删除</span>

<span class="token comment">//push 可以接受任意数量的参数，并将它们添加到数组末尾</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// 创建一个数组</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 推入两项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>                             <span class="token comment">// 2</span>

count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 再推入一项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// 3</span>
<span class="token comment">//pop 用于删除数组的最后一项，同时减少数组的length值，返回呗删除的项</span>

<span class="token keyword">let</span> item <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 取得最后一项  3</span>
<span class="token function">alert</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// black</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//2</span>

</code></pre></div><p><img src="/iview/notes/assets/img/zhan.6a0efdd2.jpg" alt="avatar"></p> <h3 id="数组列队方法"><a href="#数组列队方法" class="header-anchor">#</a> 数组列队方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//限制访问的数据结构，队列以先进先出(FIFO, First-In-First-Out)形式限制访问</span>
<span class="token comment">//队列是在列表末尾添加数据 但从开头进行获取数据。</span>
<span class="token comment">//末尾添加  push()</span>
<span class="token comment">//开头获取  shift() ，它删除数组的第一项并返回它，在数组长度减1，  使用shift和push可以把数组当队列使用</span>

<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// 创建一个数组</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 推入两项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>                             <span class="token comment">// 2</span>

count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 再推入一项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// 3</span>

<span class="token keyword">let</span> item <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 取得第一项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// red</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 2</span>
<span class="token comment">/*

反向队列 可以使用  unshift 和pop 一起使用。
unshift是从头部开始添加多个任意值，返回新的数组长度，
*/</span>


<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">//c,d,a,b</span>
</code></pre></div><p><img src="/iview/notes/assets/img/duilie.b635859d.jpg" alt="avatar"></p> <p><a href="https://www.cnblogs.com/slly/p/10366290.html">js中的栈、堆、队列、内存空间</a></p> <h3 id="数组排序方法"><a href="#数组排序方法" class="header-anchor">#</a> 数组排序方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//reverse()反转和sort()排序</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
consolse<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">severse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//5,4,3,2,1</span>


<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//1,11,13,23,4,5</span>
<span class="token comment">// 注意 sort 排序是从第一位数字开始对比排序</span>

</code></pre></div><h3 id="操作方法"><a href="#操作方法" class="header-anchor">#</a> 操作方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//concat slice  splice </span>
<span class="token comment">//concat 连接</span>
<span class="token comment">/*
将现有数组全部元素得基础上创建一个新的数组，先创建当前数组的副本，在把他的参数添加嗷副本末尾，最后返回新构建的数组
如果传入多个数组，则会把这些数组的而每一项都添加到结果数组中，如果不是数组，则直接把他们添加到结构数组末尾。

如果不想打平数组可以 通过Symbol改变
*/</span>

<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;brown&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> moreNewColors <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  length<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token string">&quot;pink&quot;</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;cyan&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

newColors<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//不大平数组的参数 利用Symbol.isConcatSpreadable</span>

<span class="token comment">// 强制不打平数组</span>
<span class="token keyword">let</span> colors2 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">&quot;yellow&quot;</span><span class="token punctuation">,</span> newColors<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 强制打平类数组对象</span>
<span class="token keyword">let</span> colors3 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>moreNewColors<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;, [&quot;black&quot;, &quot;brown&quot;]]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;pink&quot;, &quot;cyan&quot;]</span>


<span class="token comment">/*
slice() 创建一个包含原有数组中一个或多个元素的新数组。
可以接受一个或者两个参数， 返回元素的开始索引和结束索引
1个参数，返回从开始索引到结束索引的所有元素，不包含当前索引的元素，不会影响原始 数组。
2个参数 silce 反不会从开始到结束索引的所有元素，不包含结束所有对应的元素。
不会对原始数组有影响

*/</span>

<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;purple&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> colors2 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> colors3 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>colors2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// green,blue,yellow,purple</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// green,blue,yellow</span>

<span class="token comment">/*
slice  可以使用负值， 如果有负值 那么就以长度加上这个负值的结果确定位置，
如果5个元素的数组 ，alice(-2,-1) = sliec(3,4)
如果结束位置小于开始位置，则返回空数组
*/</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//splice()//很强大的方法</span>

<span class="token comment">//删除  splice()，需要传2个参数，删除的第一个元素位置和要删除的元素的数量。</span>
<span class="token comment">//插入 splice()， 传3个参数，开始位置，0（要删除的元素数量），和要插入的元素</span>
<span class="token comment">//替换 splice()，传三个参数，开始位置，要替换的元素数量，要插入的任意多个元素</span>

</code></pre></div><h3 id="搜索和位置方法"><a href="#搜索和位置方法" class="header-anchor">#</a> 搜索和位置方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//三个搜索方法</span>
<span class="token comment">//indexof() lastIndexOf()  // includes() es7方法   </span>
<span class="token comment">/*
都是接受2个参数，要查找的元素，和一个可选起始搜索位置
lastIndexof 是从数组末尾向前开始搜索
*/</span>
<span class="token comment">//indexof，lastIndexOf 找不到就返回 -1， includes 返回 布尔值 </span>
<span class="token comment">//includes 查找有没有 比较使用的 === 严格 数值和类型一起比较</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'123'</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//true</span>
</code></pre></div><h3 id="断言函数"><a href="#断言函数" class="header-anchor">#</a> 断言函数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//三个参数  元素，索引，数组本身</span>
<span class="token comment">//find() findIndex() 使用了断言函数  //找到匹配后不会在继续搜索</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span><span class="token number">29</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'wangwu'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span><span class="token number">30</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span>index<span class="token punctuation">,</span>arr</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>ele<span class="token punctuation">.</span>age<span class="token operator">&lt;</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//{ name:'zhangsan',age:29}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ele <span class="token punctuation">,</span> index <span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>ele<span class="token punctuation">.</span>age <span class="token operator">==</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span>

</code></pre></div><h3 id="数组的迭代方法"><a href="#数组的迭代方法" class="header-anchor">#</a> 数组的迭代方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*


filter() 对数组每一项都院校传入的函数，函数返回true的项会组成数组之后返回

forEach() 对数组每一项都运行都传入的函数，没有返回值

map() 对每个数组都运行传入的函数，返回由每次函数调用的结果组成的函数

every() 对数组每一项都运行传入的函数，如果对每一项函数都返回true ，则这个方法返回true

some() 对数组每一项都运行传入的函数，如果有一项函数返回 true ，则这个方法返会true

4个方法都不会改变原数组 

*/</span>
<span class="token keyword">let</span> arr  <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> item<span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//true  有就true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> item<span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false 全部有 才true</span>


<span class="token comment">/*
map()
*/</span>
<span class="token keyword">let</span> arr0  <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> arr0<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> item<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token comment">//[2, 4, 6, 8, 10, 12, 14, 16]  对数组循环 每一项可以进行操作并返回你操作后的每一项组成数组返回给你</span>


<span class="token comment">/*
filter()  
*/</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span><span class="token number">29</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'wangwu'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span><span class="token number">30</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span>index<span class="token punctuation">,</span>arr</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>ele<span class="token punctuation">.</span>age<span class="token operator">&lt;</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// [{ name:'zhangsan',age:29}]</span>

<span class="token comment">/*
forEach() 本质上等于  使用for循环遍历数组
*/</span>
<span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> arrnumber <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 执行某些操作</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="归并方法"><a href="#归并方法" class="header-anchor">#</a> 归并方法</h3> <div class="language-JS extra-class"><pre class="language-js"><code><span class="token comment">//   归并方法是指 迭代数组所有项并在此基础之上构建最终的返回值</span>
<span class="token comment">//reduce()从前到后</span>
<span class="token comment">//reduceRight() 从后到前</span>
<span class="token comment">//4个参数  上一个归并值，当前项，当前项得索引，数组本身</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token comment">//console.log(arr.reduce((prev,cur,index,arr)=&gt; prev+cur))// 所有数字求和</span>

</code></pre></div><h2 id="定型数组"><a href="#定型数组" class="header-anchor">#</a> 定型数组</h2> <ol><li>为了满足WebGL 与js运行传递数组的性能问题</li> <li>CavnasFloatArray -&gt; Float32Array</li></ol> <p>ArrayBuffer()是一个普通js构造函数，用于分配特定数量的自己空间</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token comment">//16</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//一旦生成不能改变其大小，可以slice复制其全部或者部分到一个新实例中</span>
<span class="token function">alert</span><span class="token punctuation">(</span>buf2<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 8</span>

<span class="token comment">//Arraybuffer 分配失败会抛出异常，大小有最大显示 2的53次方减1</span>
<span class="token comment">//ArrayBuffer 分配的对内存可以被当作垃圾回收，不需要手动释放</span>
<span class="token comment">/*
不能仅通过对ArrayBuffer的引用就读取或写入其内容。
要读取或写入ArrayBuffer，就必须通过视图。
视图有不同的类型，但引用的都是ArrayBuffer中存储的二进制数据。
*/</span>
</code></pre></div><p>DataView() 第一种 读写ArrayBuffer的视图  转为文件I/O和网络I/O设计</p> <p>6.3.1 - 6.4 略过  目前读起来帮助不大</p> <h2 id="map"><a href="#map" class="header-anchor">#</a> Map</h2> <p>es6新出的键值对的集合类型，es6之前都是使用 对象属性作为键，在使用属性离引用值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//使用  new 和Map 构造函数 可以创建一个空映射</span>

<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//可以直接 嵌套数组初始化映射</span>

<span class="token keyword">const</span> m1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&quot;key1&quot;</span><span class="token operator">:</span><span class="token string">&quot;val1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;key2&quot;</span><span class="token operator">:</span><span class="token string">&quot;val2&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token comment">//2</span>
<span class="token comment">//也可以自定义迭代器初始化映射</span>
<span class="token keyword">const</span> m2 <span class="token operator">=</span> mew <span class="token function">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token punctuation">[</span>symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    yieid  <span class="token punctuation">[</span><span class="token string">&quot;key1&quot;</span><span class="token operator">:</span><span class="token string">&quot;val1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    yieid  <span class="token punctuation">[</span><span class="token string">&quot;key2&quot;</span><span class="token operator">:</span><span class="token string">&quot;val2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    yieid  <span class="token punctuation">[</span><span class="token string">&quot;key3&quot;</span><span class="token operator">:</span><span class="token string">&quot;val3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m2<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>

<span class="token comment">//get has 进行查询 clear delete进行清除  set返回映射实例还可以多个操作连起来。</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// undefined</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// 0</span>

m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Matt&quot;</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;lastName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Frisbie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Matt</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 2</span>

m<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 只删除这一个键/值对</span>

<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;lastName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 1</span>

m<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 清除这个映射实例中的所有键/值对</span>

<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;lastName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 0</span>
<span class="token comment">//</span>

<span class="token keyword">const</span> ma <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ma<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Matt&quot;</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;lastName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Frisbie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//object 只能使用数值，字符串或符号作为健不同， Map可以使用任何js数据类型作为键，</span>
</code></pre></div><p>Map 迭代器</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//Iterator()</span>
<span class="token comment">//entries()</span>
<span class="token keyword">const</span> <span class="token constant">M</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;val1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;val2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;key3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;val3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>entries <span class="token operator">===</span> m<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> pair <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>pair<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//[key1,val1]</span>
<span class="token comment">//[key2,val2]</span>
<span class="token comment">//[key3,val3]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> pair <span class="token keyword">of</span> m<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>pair<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// [key1,val1]</span>
<span class="token comment">// [key2,val2]</span>
<span class="token comment">// [key3,val3]</span>

<span class="token comment">// entries() 是默认迭代器 使用 展开运算符就可以直接转换成数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="选择object-还是map"><a href="#选择object-还是map" class="header-anchor">#</a> 选择Object 还是Map</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1.</span> 内存占用
<span class="token comment">/*Obj和Map的工程级实现在不同的浏览器间存在明显差异，
  不同浏览器的情况不同，但给定固定大小的内存，Map大约可以比Obj多存储50% 的健/值对。
*/</span>
<span class="token number">2.</span> 插入性能
<span class="token comment">/*Object 和Map 中插入新建/值对的消耗大致相当，不过插入Map在所有浏览器中一般会稍微快一点儿。
对这个两个类型来说，插入速度并不会随着 键/值对数量而线性增加，如果代码涉及大量插入操作，那么显然
Map的性能更佳。
*/</span> 
<span class="token number">3.</span> 查找速度
<span class="token comment">/*
如果大量查找  Obj会更好
*/</span>
<span class="token number">4.</span> 删除性能
<span class="token comment">/*
Map 的delte() 速度快
*/</span>
</code></pre></div><h2 id="weakmap（es6-新增-弱映射）"><a href="#weakmap（es6-新增-弱映射）" class="header-anchor">#</a> WeakMap（es6 新增 弱映射）</h2> <br>
weakMap API是Map的子集
<br>
weakMap 键只能是obj或者继承自obj的类型，非对象就好报出typeError， 值类型没有限制
<br>
初始化之后可以使用set()再添加键/值对，可以使用get()和has()查询，还可以使用delete()删除
<br>
初始化是全有全无的操作，中间有一个无效键就会导致整个初始化失败。
<br>
原始值可以包装成对象在用作键
<br> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> key1 <span class="token operator">=</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      key2 <span class="token operator">=</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      key3 <span class="token operator">=</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 使用嵌套数组初始化弱映射</span>
<span class="token keyword">const</span> wm1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span>key1<span class="token punctuation">,</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>key2<span class="token punctuation">,</span> <span class="token string">&quot;val2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>key3<span class="token punctuation">,</span> <span class="token string">&quot;val3&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>wm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// val1</span>
<span class="token function">alert</span><span class="token punctuation">(</span>wm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// val2</span>
<span class="token function">alert</span><span class="token punctuation">(</span>wm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// val3</span>

<span class="token comment">// 初始化是全有或全无的操作</span>
<span class="token comment">// 只要有一个键无效就会抛出错误，导致整个初始化失败</span>
<span class="token keyword">const</span> wm2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span>key1<span class="token punctuation">,</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;BADKEY&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;val2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>key3<span class="token punctuation">,</span> <span class="token string">&quot;val3&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: Invalid value used as WeakMap key</span>
<span class="token keyword">typeof</span> wm2<span class="token punctuation">;</span>
<span class="token comment">// ReferenceError: wm2 is not defined</span>

<span class="token comment">// 原始值可以先包装成对象再用作键</span>
<span class="token keyword">const</span> stringKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> wm3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  stringKey<span class="token punctuation">,</span> <span class="token string">&quot;val1&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>wm3<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>stringKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;val1&quot;</span>

</code></pre></div><p>weakMap 中的weak 表示弱弱的拿着，不属于正式的引用，不会阻止垃圾回收，
但是若映射的值不是 弱弱的拿着，只要键存在，就会存在映射中，并被当作对值得引用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

wm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;val&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//因为映射键为空， 这个对象键就被当作垃圾回收，键值对得若映射就消失了，称为一个空映射</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>wm<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> contriner <span class="token operator">=</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span><span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

wm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>contriner<span class="token punctuation">.</span>key<span class="token punctuation">,</span><span class="token string">&quot;val&quot;</span><span class="token punctuation">)</span><span class="token comment">//弱键在被  contriner对象维护得引用</span>

<span class="token keyword">function</span> <span class="token function">delcontriner</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//执行这个函数就会 触发垃圾回收程序 把这个键/值干掉</span>
  constriner<span class="token punctuation">.</span>key <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//不可迭代键</span>
<span class="token comment">/*
WeakMap 之所以限制 对象作为键，是为了 字符串字面量和初始化之后使用的一个相等的字符串了。
*/</span>
<span class="token comment">// 应用</span>

<span class="token comment">//私有变量  -》使用闭包把 wm包装起来，就变成了私有变量</span>
<span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>idProperty <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">setPrivate</span><span class="token punctuation">(</span><span class="token parameter">property<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> privateMembers <span class="token operator">=</span> wm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      privateMembers<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
      wm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> privateMembers<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">getPrivate</span><span class="token punctuation">(</span><span class="token parameter">property</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> wm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">setId</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setPrivate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>idProperty<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">getId</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPrivate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>idProperty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> User<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 456</span>

<span class="token comment">//DOM节点元数据</span>

<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> loginButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 给这个节点关联一些元数据</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>loginButton<span class="token punctuation">,</span> <span class="token punctuation">{</span>disabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/////////////////////////////////////////////</span>
<span class="token comment">//下面 DOM使用弱映射，dom被删除后，垃圾回收程序就可以立即释放内存。</span>
<span class="token keyword">const</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> loginButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 给这个节点关联一些元数据</span>
wm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>loginButton<span class="token punctuation">,</span> <span class="token punctuation">{</span>disabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="set-（es6新增集合数据结构-类似-加强的map，大多数api和行为都是共用的）"><a href="#set-（es6新增集合数据结构-类似-加强的map，大多数api和行为都是共用的）" class="header-anchor">#</a> Set  （es6新增集合数据结构 类似  加强的Map，大多数api和行为都是共用的）</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;val1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;val2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;val3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/iview/notes/Js基础知识/数据类型.html" class="prev">
        数据类型
      </a></span> <span class="next"><a href="/iview/notes/Js基础知识/面向对象.html">
        对象、类、与面向对象编程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/iview/notes/assets/js/app.89b4b570.js" defer></script><script src="/iview/notes/assets/js/2.9411c5eb.js" defer></script><script src="/iview/notes/assets/js/5.8cc516eb.js" defer></script>
  </body>
</html>
